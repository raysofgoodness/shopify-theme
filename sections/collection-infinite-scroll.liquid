{%- if section.settings.enable_infinite_scroll -%}
    &amp;amp;amp;amp;amp;amp;amp;lt;div class="page-load-status"&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;p class="infinite-scroll-request"&amp;amp;amp;amp;amp;amp;amp;gt;{{section.settings.status_info}}&amp;amp;amp;amp;amp;amp;amp;lt;/p&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;p class="infinite-scroll-last"&amp;amp;amp;amp;amp;amp;amp;gt;{{section.settings.status_end}}&amp;amp;amp;amp;amp;amp;amp;lt;/p&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;p class="infinite-scroll-error"&amp;amp;amp;amp;amp;amp;amp;gt;No more pages to load&amp;amp;amp;amp;amp;amp;amp;lt;/p&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;/div&amp;amp;amp;amp;amp;amp;amp;gt;
    {%  assign container_selector = section.settings.container_selector %}
    {%  assign path = section.settings.path | default: ".pagination a" %}
    {%  assign append = section.settings.append | default: false %}
    {%  assign hide_nav = section.settings.hide_nav | default: ".pagination"  %}
    {%  assign status = section.settings.status | default: ".page-load-status" %}
    &amp;amp;amp;amp;amp;amp;amp;lt;script&amp;amp;amp;amp;amp;amp;amp;gt;
    var isSettings = '{ "container" : "{{container_selector}}", "path" : "{{path}}", "append" : "{{append}}", "hideNav" : "{{hide_nav}}", "status" : "{{status}}" }';
    &amp;amp;amp;amp;amp;amp;amp;lt;/script&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.min.js" defer&amp;amp;amp;amp;amp;amp;amp;gt;&amp;amp;amp;amp;amp;amp;amp;lt;/script&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;script src="{{ 'infinite-scroll.js' | asset_url }}" defer="defer"&amp;amp;amp;amp;amp;amp;amp;gt;&amp;amp;amp;amp;amp;amp;amp;lt;/script&amp;amp;amp;amp;amp;amp;amp;gt;
    &amp;amp;amp;amp;amp;amp;amp;lt;style&amp;amp;amp;amp;amp;amp;amp;gt;
    .page-load-status{display:none;text-align:center;margin:30px auto 10px;padding:5px;max-width:300px;background:#eee;}
    .page-load-status p{margin:0;padding:5px;}
    &amp;amp;amp;amp;amp;amp;amp;lt;/style&amp;amp;amp;amp;amp;amp;amp;gt;
{%- endif %}
{% schema %}
{
"name": "Infinite Scroll",
"settings": [
{
"type": "checkbox",
"id": "enable_infinite_scroll",
"label": "Enable Infinite Scroll",
"default": false
},
{
"type": "text",
"id": "container_selector",
"label": "Container Selector"
},
{
"type": "text",
"id": "path",
"label": "Path",
"info": "Determines the URL for the next page"
},
{
"type": "text",
"id": "append",
"label": "Append",
"info": "Appends selected elements from loaded page to the container."
},
{
"type": "text",
"id": "hide_nav",
"label": "Page nav selector",
"info": "Hides navigation element"
},
{
"type": "text",
"id": "status",
"label": "Status selector",
"info": "Displays status elements indicating state of page loading"
},
{
"type": "text",
"id": "status_info",
"label": "Loading Text",
"default": "Loading..."
},
{
"type": "text",
"id": "status_end",
"label": "End result text",
"default": "No more product to load!"
}
]
}
{% endschema %}
